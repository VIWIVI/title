<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>3D Modell</title>
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <style>
    body, html {
      margin: 0; 
      padding: 0; 
      height: 100%; 
      width: 100%;
      overflow: hidden;
    }
model-viewer {
  width: 100%;   /* fixe Breite */
  height: 100vh;  /* fixe Höhe (passt du nach Wunsch an) */
  display: block;
}
  </style>
</head>
<body>
  <model-viewer
    src="snowflake_virtualoffice_3d-titel.glb"
    alt="3D Virtual Office"
    camera-controls>
  </model-viewer>
</body>
<!-- Hier unten das JavaScript einfügen -->
  <script>
    const modelViewer = document.getElementById('myModelViewer');

    // Min und Max Winkel in Grad
    const minAzimuth = -20;
    const maxAzimuth = 20;
    const minElevation = 40;
    const maxElevation = 80;

    // Hilfsfunktion: Grad in Bogenmaß
    function degToRad(deg) {
      return deg * Math.PI / 180;
    }
    // Hilfsfunktion: Bogenmaß in Grad
    function radToDeg(rad) {
      return rad * 180 / Math.PI;
    }

    modelViewer.addEventListener('camera-change', () => {
      let orbit = modelViewer.getCameraOrbit();

      let azimuth = radToDeg(orbit.theta);
      let elevation = radToDeg(orbit.phi);
      let radius = orbit.radius;

      // Winkel begrenzen
      azimuth = Math.min(maxAzimuth, Math.max(minAzimuth, azimuth));
      elevation = Math.min(maxElevation, Math.max(minElevation, elevation));

      // Kamera zurücksetzen
      modelViewer.cameraOrbit = `${azimuth}deg ${elevation}deg ${radius}m`;
    });
  </script>
</body>
</html>
